---
format: 
  revealjs:
    slide-number: true
    theme: [default, custom_theme.scss]
    preview-links: auto
    output-file: "index"
    output-ext: "html"
    logo: "Materials/About/personal_sticker.png"
    code-line-numbers: true
    code-overflow: wrap
    embed-resources: true
    center-title-slide: false
---

```{r}
#| label: setup
#| include: false
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
  fig.align = "center",
  out.width = "100%",
  dpi = 300,
  fig.align = "center"
)


if (!require("countdown")) install.packages("countdown")

library(countdown)

library(here)

include_local_figure <- function(data_source) {
  knitr::include_graphics(
    path = here::here(
      "Materials",
      data_source
    ),
    error = TRUE
  )
}
```

# {.bg-purple}

```{r}
#| label: lecture_intro
include_local_figure("flyer.png")
```

# {.bg-purple}

:::: {.columns}

::: {.column width="60%"}
:::

::: {.column width="40%"}

```{r}
#| label: figure1
include_local_figure("flyer_cut.png")
```
:::

::::

::: {.r-hstack}
::: {data-id="box1" style="background: #fcf2dcff; width: 120px; height: 15px; margin: 0px;"}
:::

::: {data-id="box2" style="background: #c49cf5ff; width: 550px; height: 15px; margin: 0px;"}
:::

::: {data-id="box3" style="background: #040303ff; width: 120px; height: 15px; margin: 0px;"}
:::

::: {data-id="box3" style="background: #c2ff76ff; width: 120px; height: 15px; margin: 0px;"}
:::
:::

::: {.text-larger .text-color-green-yellow .text-font-lobster}
Introduction to [GitHub]{.text-font-fredoka .text-bold .text-color-latte} and [Version Control]{.text-font-fredoka .text-bold .text-color-latte} 
:::

<br>

::: {.text-right}
[üë§](https://ondrejmottl.github.io/)Ond≈ôej Mottl

[24.04.2025]{.text-color-wisteria}

[Mendel University]{.text-color-wisteria}
:::

## üôãHi! I am Ond≈ôej Mottl

<br>

::: {.text-center}
Assistant Professor at [Charles University](https://cuni.cz/UK-1.html)

Head of üßë‚Äçüíª[Laboratory of Quantitative Ecology](https://ondrejmottl.github.io/lab/about_the_lab.html)

:::

<br>

:::: {.columns}

::: {.column width="60%"}
<br>

* üìß Ondrej.mottl(at)gmail.com
* ü¶ã [ondrejmottl.bsky.social](https://bsky.app/profile/ondrejmottl.bsky.social)
* üê± [Github OndrejMottl](https://github.com/OndrejMottl)
* üÜî [ORCID 0000-0002-9796-5081](https://orcid.org/0000-0002-9796-5081)
* üåê [bit.ly/ondrej_mottl](https://bit.ly/ondrej_mottl)
:::

::: {.column width="35%"}
```{r}
#| label: head photo
include_local_figure("About/head_photo.png")
```
:::

::::

## Fast & Furious

:::: {.columns .center-vertical}

::: {.column width="35%"}

```{r}
#| label: alot
knitr::include_graphics("https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExcDFuYzRyMzh2aXlyeHNlb2YzcDgxZ2R2d2RoNnp3M28yYTBlNnhwNiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/n6mEMqAuYOQ8l8qcEE/giphy.gif")
```

:::

::: {.column width="65%"}

```{r}
#| label: fast-furious
knitr::include_graphics("https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExcDhpNWZvdzB5eTZuOGs3eTJ4dzhpZnRrOXQzNWZpanl0dHF6eTJkNCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/B1uajA01vvL91Urtsp/giphy.gif")
```

:::

::::

::: footer
[https://giphy.com/](https://giphy.com/)
:::

## [This presentation]{.text-color-latte} {.text-center .bg-black}

<br>
<br>

[üò∏Code on GitHub: OndrejMottl/VersionControl_Mendel_Apr2025](https://github.com/OndrejMottl/VersionControl_Mendel_Apr2025)

![](https://img.shields.io/badge/License-MIT-yellow.svg)

<br>

:::: {.columns}

::: {.column width="33%"}
:::

::: {.column width="30%"}
```{r}
#| label: qr_slides
include_local_figure("QR_codes/qr_slides.png")
```
:::

::: {.column width="33%"}
:::

::::

## Evolution

```{r}
#| label: evolution
include_local_figure("Scriberia/openresearch.jpg")
```

::: footer
[This image was created by Scriberia for The Turing Way community and is used under a CC-BY licence](https://zenodo.org/doi/10.5281/zenodo.3332807)
:::

## Open Science

```{r}
#| label: open-science
include_local_figure("Open_Science/UNESCO-Open_science-pillars-en.png")
```

::: footer
[UNESCO (2022). Understanding open science ‚Äî Factsheet ‚Äî SC-PBS-STIP/2022/OST/1.](https://doi.org/10.54677/UTCD9302)
:::

## A better view

```{r}
#| label: open-science-taxonomy
include_local_figure("Open_Science/os_taxonomy.png")
```

::: footer
[https://www.fosteropenscience.eu/](https://www.fosteropenscience.eu/)
:::

## The Journey

```{r}
#| label: open-science-journey
include_local_figure("Scriberia/ReproducibleJourney.jpg")
```

::: footer
[This image was created by Scriberia for The Turing Way community and is used under a CC-BY licence](https://zenodo.org/doi/10.5281/zenodo.3332807)
:::

# [Version control]{.bold .r-fit-text .text-color-latte} {.bg-purple}

## Ring a bell? {.text-center}

```{r}
#| label: final-final
knitr::include_graphics("https://biostats-r.github.io/biostats/github/Pics/gittutorial/phd101212s.gif")
```

## What is Version Control? ü§î

```{r}
#| label: VersionControl
include_local_figure("Scriberia/VersionControl.jpg")
```

::: {.text-center}
It is all about [keeping track]{.text-background-purple} of [changes]{.text-background-wisteria} üìì‚úçÔ∏è
:::

::: footer
[This image was created by Scriberia for The Turing Way community and is used under a CC-BY licence](https://zenodo.org/doi/10.5281/zenodo.3332807)
:::

## Exercise {.exercise}

`r countdown(minutes = 3)`

:::: columns

::: {.column width="50%"}

### Do you recognize some of these questions?

* *It broke ‚Ä¶ hopefully I have a working version somewhere?*
* *Can you please send me the latest version?*
* *Which version are you using?*
* *I am sure it used to work. When did it change?*
* *My laptop is gone. Is my data now gone?*

:::

::: {.column width="50%" }

### How do you keep track of changes?

```{r}
#| label: version-nightmare
knitr::include_graphics("https://ecorepsci.github.io/reproducible-science/img/version-nightmare.png")
```

:::

::::

::: footer
[Reproducible Data Science](https://ecorepsci.github.io/reproducible-science/index.html)
:::

##

:::: columns

::: {.column width="45%"}

### Git {.textcenter}

* local software
* keep track of changes of files 

<br>

```{r}
#| label: git-logo
#| fig-width: 1
#| fig-height: 1 
include_local_figure("Logos/Git_icon.svg.png")
```

:::

::: {.column width="10%" }
:::

::: {.column width="45%" }

### GitHub {.textcenter}

* host server
* store (git) the data
* project management, collaboration, publishing

```{r}
#| label: github-logo
include_local_figure("Logos/Github-desktop-logo-symbol.svg.png")
```

:::

::::

## Git/GitHub setup AKA "git hell"

```{r}
#| label: ErrorManagement
include_local_figure("Scriberia/ErrorManagement.jpg")
```

Follow instructions in [Version Control - git hell](https://ondrejmottl.github.io/VersionControl_gitHell/) (a separate presentation).

::: {.blockquote}
Getting all the necessary software installed, configured, and playing nicely together is honestly half the battle ... **Brace yourself for some pain**
:::

::: footer
[Happy Git and GitHub for the useR](https://happygitwithr.com/install-intro) |
[This image was created by Scriberia for The Turing Way community and is used under a CC-BY licence](https://zenodo.org/doi/10.5281/zenodo.3332807)
:::

## Basic vocabulary

:::: columns

::: {.column width="45%" .incremental}

 * [R script]{.text-background-purple} is a record of code.
 * [R Project]{.text-background-purple} is self contained project/study/paper containg R scripts, data, figures, etc.
 * Every such project is called [repository]{.text-background-wisteria} (ie a *repo*) 
 * Your **local** repository is called [local]{.text-background-latte}
 * Your **online** repository, is called [remote]{.text-background-latte}

:::

:::{.column width="55%" .fragment}

<br>
<br>
<br>

```{r}
#| label: local-remote
knitr::include_graphics("https://user.oc-static.com/upload/2022/01/04/16412576933806_image30.png")
```
:::

::::

::: footer
[https://openclassrooms.com/](https://openclassrooms.com/en/courses/7476131-manage-your-code-project-with-git-and-github/7681891-work-in-your-local-git-repository)
::: 

## [Note on practital exercises]{.r-fit-text} {.bg-latte}

```{r}
#| label: practical-exercise-note
include_local_figure("Exercise/monkey_see_monkey_do_by_adiasarahma.jpg")
```

::: footer
[image by adiasarahma](https://www.deviantart.com/adiasarahma/)
:::


## Git init (project first)

Activate [git]{.text-background-purple} for a repo 

::::: {.panel-tabset}

### RStudio

For existing project

```{r}
#| label: git-init-rstudio
#| echo: true
#| eval: false
#| code-line-numbers: false
usethis::use_git()
```

Create new project with git tracking

```{r}
#| label: git-init-rstudio-new
#| echo: true
#| eval: false
#| code-line-numbers: false
usethis::create_project("<DIRECTORY>")
# switch to the new project
usethis::use_git()
```

### GH Desktop

Create new project with git tracking

:::: {.columns}

::: {.column width="25%"}
:::

::: {.column width="50%"}
```{r}
#| label: git-init-GH-new
knitr::include_graphics("https://docs.github.com/assets/cb-143755/mw-1440/images/help/desktop/lets-get-started.webp")
```
:::

::::

### Command line

For existing project

```{bash}
#| label: git-init-cl
#| echo: true
#| eval: false
#| code-line-numbers: false
git init
```

Create new project with git tracking

```{bash}
#| label: git-init-cl-new
#| echo: true
#| eval: false
#| code-line-numbers: false
git init <DIRECTORY>
```

### VS Code

Git integration is automatic in [Source control]{.text-background-wisteria} panel

```{r}
#| label: git-init-vscode
knitr::include_graphics("https://www.sqlshack.com/wp-content/uploads/2020/07/visual-studio-code-and-git-source-control.png")
```

:::::

::: footer
[SQLShack](https://www.sqlshack.com/visual-studio-code-vs-code-integration-with-git-source-control/)
:::

## [Practical Exercise]{.r-fit-text} {.exercise .text-center}

::: {.r-fit-text} 
* Make a new project with Git tracking
:::

`r countdown(minutes = 10)`

## Git clone (repo first)

Copy (download) for  [remote repo]{.text-background-purple} to [local]{.text-background-wisteria} machine

Example of online repo: [OndrejMottl/VersionControl-playground](https://github.com/OndrejMottl/VersionControl-playground)

::::: {.panel-tabset}

### RStudio

```{r}
#| label: git-clone-rstudio
#| echo: true
#| eval: false
#| code-line-numbers: false
usethis::create_from_github(
  repo_spec = "https://github.com/<OWNER>/<REPO>.git",
  destdir = "<DIRECTORY>",
  fork = FALSE
  )
```

### GH Desktop

```{r}
#| label: git-clone-GH
knitr::include_graphics("https://docs.github.com/assets/cb-10969/mw-1440/images/help/desktop/clone-file-menu-windows.webp")
```


### Command line

```{bash}
#| label: git-colne-cl
#| echo: true
#| eval: false
#| code-line-numbers: false
git clone https://github.com/<OWNER>/<REPO>.git <DIRECTORY>
```

### VS Code

Open [Command Palette]{.text-background-wisteria} (`Ctrl+Shift+p`)

Paste in URL: `"https://github.com/<OWNER>/<REPO>.git"`

:::::

## [Practical Exercise]{.r-fit-text} {.exercise .text-center}

::: {.r-fit-text} 
clone a repo (e.g. any repo from [OndrejMottl](https://github.com/OndrejMottl?tab=repositories))
:::

`r countdown(minutes = 5)`

## a commit

A [**commit**]{.text-background-purple} is a [record]{.text-background-wisteria} of a change

If you create or edit a file in your repository and save the changes, you need to [record]{.text-background-wisteria} your change via a [**commit**]{.text-background-purple}

::::: {.fragment}

### Chess analogy? 

:::: columns

::: {.column width="45%"}

```{r}
#| label: chess
knitr::include_graphics("https://www.wikihow.com/images/thumb/0/06/Play-Chess-Step-28-Version-5.jpg/aid54279-v4-728px-Play-Chess-Step-28-Version-5.jpg")
```

:::

::: {.column width="45%" }

**Chess move diary**:

* Bc4 (Bishop to c4)
* Nf3 (Knight to f3)
* Qc7 (Queen to c7)

:::

::::

:::::

::: footer
[wikiHow: How to Play Chess?](https://www.wikihow.com/Play-Chess)
:::

## a commit

:::: columns
::: {.column width="45%" .text-center} 
```{r}
#| label: git1-chess
knitr::include_graphics("https://www.wikihow.com/images/thumb/c/c3/Play-Chess-Step-24-Version-5.jpg/aid54279-v4-728px-Play-Chess-Step-24-Version-5.jpg")
```

*Pawn to d4*
:::

::: {.column width="45%" .text-center .fragment}
```{r}
#| label: git01
include_local_figure("git/git01.png")
```

*Edit line 32 of file A*
:::
::::

::: footer
[wikiHow: How to Play Chess?](https://www.wikihow.com/Play-Chess)
:::

## a commit

<br>
<br>

```{r}
#| label: git02
include_local_figure("git/git02.png")
```


## 3 states of a file 

<br>

:::: columns
::: {.column width="29%"}
```{r}
#| label: git-stage-scheme
knitr::include_graphics("https://git-scm.com/images/about/index1@2x.png")
```
:::

::: {.column width="60%" .fragment}
```{r}
#| label: git-stage-draw
knitr::include_graphics("https://i0.wp.com/jessitron.com/wp-content/uploads/2012/12/27eb8-screenshot2012-12-09at2.07.55pm.png")
```
:::
::::

::: footer
[git---everything-is-local](https://git-scm.com/)

[jessitron](https://jessitron.com/2012/12/09/git-the-many-parts-five-categories-of-files/)
:::

## Staging changes

Make a change to a file and save it. Now *stage* the change:

::::: {.panel-tabset}

### RStudio

:::: columns
::: {.column width="45%"}

```{r}
#| label: git-stage-rstudio
knitr::include_graphics("https://annakrystalli.me/talks/assets/git_tab.png")
```

:::

::: {.column width="45%"}

* two yellow `??` indicates adding a file 
* a blue `M` indicates edit a file that has already been committed
* a red `D` indicates deleting a file

:::

::::

### GH Desktop

:::: columns
::: {.column width="45%"}

```{r}
#| label: git-stage-GH
knitr::include_graphics("https://docs.github.com/assets/cb-16555/mw-1440/images/help/desktop/commit-all.webp")
```

:::

::: {.column width="45%"}

* The red icon indicates removed files.
* The yellow icon indicates modified files.
* The green icon indicates added files.

:::

::::

### Command line

```{bash}
#| label: git-stage-cl
#| echo: true
#| eval: false
#| code-line-numbers: false
git add <FILE>
```

### VS Code

:::: columns

::: {.column width="20%"}
:::


::: {.column width="60%"}

```{r}
#| label: git-stage-VScode
knitr::include_graphics("https://code.visualstudio.com/assets/docs/sourcecontrol/overview/stage-changes.png")
```

:::

::: {.column width="20%"}
:::

::::

:::::

## [Practical Exercise]{.r-fit-text} {.exercise .text-center}

::: {.r-fit-text} 
1. Make changes to (a) file(s)
2. Make a new file
3. Stage and Unstage the changes
:::

`r countdown(minutes = 20)`



---


## {.bg-purple}

:::: {.columns}

::: {.column width="70%"}

<br>
<br>
<br>

::: {.text-larger .text-color-green-yellow .text-font-lobster}
Introduction to [GitHub]{.text-font-fredoka .text-bold .text-color-latte} and [Version Control]{.text-font-fredoka .text-bold .text-color-latte} 
:::

:::: {.r-hstack}
::: {data-id="box1" style="background: #fcf2dcff; width: 120px; height: 15px; margin: 0px;"}
:::

::: {data-id="box2" style="background: #c49cf5ff; width: 550px; height: 15px; margin: 0px;"}
:::

::: {data-id="box3" style="background: #040303ff; width: 120px; height: 15px; margin: 0px;"}
:::

::: {data-id="box3" style="background: #c2ff76ff; width: 120px; height: 15px; margin: 0px;"}
:::
::::

[27.3.2025]{.text-color-wisteria}

:::

::: {.column width="30%"}

```{r}
#| label: head_photo2
include_local_figure("About/head_photo.png")
```
:::

::::

<br>

:::: {.columns}

::: {.column width="15%"}

```{r}
#| label: personal_sticker
include_local_figure("About/personal_sticker.png")
```
:::

::: {.column width="55%"}
* üìß Ondrej.mottl(at)gmail.com
* ü¶ã [ondrejmottl.bsky.social](https://bsky.app/profile/ondrejmottl.bsky.social)
* üåê [bit.ly/ondrej_mottl](https://bit.ly/ondrej_mottl)
:::

::: {.column width="15%"}
```{r}
#| label: GH_logo
include_local_figure("Logos/GH_logo.png")
```
:::

::: {.column width="15%"}
```{r}
#| label: figure2
include_local_figure("flyer_cut.png")
```
:::

::::